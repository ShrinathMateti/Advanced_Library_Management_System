{% extends 'admin_navbar.html' %}
<!--  -->
{% load static %}
<!--  -->
{% block title %} Advanced Library Management System {% endblock %}
<!--  -->
{% block css %}
<style>
  .loader-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #f5f5f5;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
  }

  .loader {
    border: 8px solid #f3f3f3;
    border-top: 8px solid #628c22;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 2s linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>
{% endblock %}
<!--  -->
{% block body %}
<div class="loader-wrapper">
  <div class="loader"></div>
</div>
<div class="container mt-4">
  <h4 class="text-center"><u>All Issued Books</u></h4>
  <table class="table table-hover mt-4" id="example">
    <thead>
      <tr class="text-center">
        <th>Sr.No</th>
        <th>Student</th>
        <th>Student ID</th>
        <th>Book Cover</th>
        <th>Book Name</th>
        <th>ISBN</th>
        <th>Issued Date</th>
        <th>Return Date</th>
        <th>Fine</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody>
      {% for i in details %}
      <tr class="text-center">
        <td>{{forloop.counter}}.</td>
        <td>{{i.0}}</td>
        <td>{{i.1}}</td>
        <td><img src="{{i.7.url}}" height="90px" /></td>
        <td>{{i.2}}</td>
        <td>{{i.3}}</td>
        <td>{{i.4}}</td>
        <td>{{i.5}}</td>
        <td>â‚¹ {{i.6}}</td>
        <td>
          <a
            href="/delete_issue/{{book.id}}/"
            class="btn btn-danger"
            onclick="return confirm('Are you sure you want to delete this issued book details?')"
            >Delete</a
          >
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>
{% endblock %}
<!--  -->
{% block js %}
<script>
  $(".loader-wrapper").delay(3000).fadeOut("slow");
</script>
{% endblock %}
